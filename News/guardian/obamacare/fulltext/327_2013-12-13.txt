Congress celebrated a rare moment of bipartisan harmony on Thursday evening, after a $1tn federal budget passed in the House of Representatives, before swiftly returning to all-night bickering in the Senate. An overwhelming majority of 332 Republicans and Democrats voted against 94 rebels from both parties to pass the limited two-year spending deal and repeal parts of the so-called sequester cuts. Opponents, including the Democratic whip Steny Hoyer, comprised a mixture of fiscal hardliners who wanted more cuts and liberals angry that the deal neglected to fix expiring unemployment benefits and will charge future federal workers more for their pensions. The messy compromise, which is expected be ratified by the Senate next week and is backed by the White House, makes this the first time since the 1980s that a divided US government has agreed to set a formal budget.  “We have been at its each others throats for a long time,” said House budget committee chairman Paul Ryan, who negotiated the deal with his Democratic counterpart in the Senate, Patty Murray. “[But] elections have consequences. To really do what we think needs to be done we are going to have to win some elections. In the meantime, we need to make this divided government work.” Hoyer, whose Maryland seat includes 62,000 federal employees, acknowledged that the deal was better than the alternatives on offer, but called for more ambitious negotiations to tackle long-term fiscal challenges. Minutes later, an even bigger majority – 350-69 – voted in favour of a hard-fought defence authorisation bill that will renew spending for the US military. Nonetheless, the new mood of co-operation was short lived.Republicans and Democrats continued their clash in the Senate with an unprecedented procedural showdown. Congressional staff were preparing for a second all-night session in a row on Thursday evening as Republican senators threatened to talk until dawn in protest at recent moves that removed the power of the minority party to permanently filibuster presidential appointees. Though the rule change introduced last month by majority leader Harry Reid prevents it from indefinitely blocking such nominations, the rules still allow the minority party to slow the progress of votes. Each of more than a dozen nomination bills is therefore being held up for eight hours or more as Republicans use their maximum allotted speaking time before allowing votes to proceed. Earlier, splits in Republican ranks over the direction of the party were laid bare when John Boehner, the speaker of the House of Representatives, launched a stinging attack on the collection of rightwing lobby groups that hold sway over the fundamentalist wing of the Republican party. Boehner, who was the public face of the disastrous strategy to shut down the federal government earlier this year, said the groups had “lost all credibility” in their attempts to stir up opposition to the new budget deal. His comments suggest that moderate voices in the Republican party now feel emboldened to speak out against the strategy embodied by Tea Party-backed figures such as Ted Cruz, the firebrand Texas senator who advocated the shutdown in an attempt to hobble President Barack Obama’s healthcare reforms. Boehner accused Washington groups such as Heritage Action and Club for Growth of deliberately mischaracterising the agreement as a “sellout”, even though it lowered the federal deficit. “They are misleading their followers. They are pushing their members in places they don't want to be and, frankly, I just think they have lost all credibility,” he told reporters at a press conference. Boehner has stepped up his attacks on the right in the past few days, accusing them of opposing the deal before they had even found out what was in it. Outside a meeting of Republican leaders in Congress on Tuesday, he said: “They're using our members and they are using the American people for their own goals. This is ridiculous.” But as it became clear that he would receive sufficient support from House Democrats to pass the budget without the support of Tea Party Republicans, Boehner ratcheted up his rhetoric and revealed his frustration with the direction in which his party has been dragged this year. “They pushed us into this fight to defund Obamacare and to shut down the government,” he said. “Most of you know that wasn't exactly the strategy I had in mind. But if you recall, the day before the government reopened one of these groups stood up and said 'Well, we never really thought it would work.' Are you kidding me?”